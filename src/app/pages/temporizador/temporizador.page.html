<app-header></app-header>

<ion-content>

  <ion-card>
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">

    <ion-card-content>
      <ion-title class="style" style="font-weight: bold;font-family: 'Poppins', sans-serif;">Temporizador</ion-title>
      <ion-row class="ion-justify-content-center">
  
        <!--Circulo alv-->
        <svg
              id="progress-circle"
              width="50vh"
              height="50vh"
              viewBox="0 0 200 200"
          >
              <linearGradient id="linearColors1" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#ddd6f3"></stop>
                  <stop offset="100%" stop-color="#27ae60"></stop>
              </linearGradient>
              <circle
                  cx="50%"
                  cy="50%"
                  [attr.r]="circleR"
                  fill="none"
                  stroke="#f3f3f3"
                  stroke-width="12"
              />
              <circle
                  cx="50%"
                  cy="50%"
                  [attr.r]="circleR"
                  fill="none"
                  stroke="url(#linearColors1)"
                  stroke-width="12"
                  stroke-linecap="round"
                  [attr.stroke-dasharray]="circleDasharray"
                  [attr.stroke-dashoffset]="percentageOffset(percent | async)"
              />
              <text x="50%" y="55%" class="timer-text">{{ time | async }}</text>
          </svg>
      </ion-row>
      <ion-item>
      <ion-label class="ion-text-center" position="floating" style="font-weight: bold;font-family: 'Poppins', sans-serif;">Ingresa minutos de encendido</ion-label>
      <ion-input type="number" [(ngModel)]="startDuration" clear-input></ion-input>
      </ion-item>
      <ion-button color="primary" *ngIf="state === 'stop'"  expand="block" (click)="startTimer(startDuration)">Iniciar</ion-button>
      <ion-button color="danger" *ngIf="state === 'start'"  expand="block" (click)="stopTimer()" >Detener</ion-button>
      <p class="ion-text-center" style="font-family: 'Poppins', sans-serif;  color: black;"><span color="danger" style="font-weight: bold; color: red;">Advertencia <br> </span> Bomba de agua no debe estar encendida por m√°s de 10 minutos</p>
  
      
  
  
    </ion-card-content>
  </ion-card>

</ion-content>
